<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Labirent Pro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- ANA MENÃœ EKRANI -->
        <div class="welcome-screen" id="welcomeScreen">
            <h1>ğŸ® LABÄ°RENT PRO</h1>
            <p>Algoritma destekli macera oyununa hoÅŸ geldiniz!<br>BFS ve DFS ile yolunuzu bulun, dÃ¼ÅŸmanlardan kaÃ§Ä±n!</p>
            <button class="btn btn-primary" onclick="showDifficultyModal()">ğŸ¯ Oyuna BaÅŸla</button>
            <button class="btn btn-secondary" onclick="showScoreModal()">ğŸ† Skorlar</button>
            <button class="btn btn-secondary" onclick="showMapsModal()">ğŸ—ºï¸ HaritalarÄ±m</button>
            <button class="btn btn-secondary" onclick="showTournamentModal()">ğŸ YarÄ±ÅŸma</button>
            <button class="btn btn-secondary" onclick="showInfoModal()">â„¹ï¸ NasÄ±l OynanÄ±r</button>
        </div>

        <!-- OYUN EKRANI -->
        <div class="game-screen" id="gameScreen">
            <div class="game-header">
                <div class="game-title">ğŸ® LABÄ°RENT PRO</div>
                <div class="stats-bar">
                    <div class="stat-item">
                        <span class="stat-icon">ğŸ‘£</span>
                        <span id="stepCount">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">âš¡</span>
                        <span id="energyCount">100</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">â±ï¸</span>
                        <span id="timeCount">0.0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">ğŸ</span>
                        <span id="bonusCount">0</span>
                    </div>
                </div>
            </div>

            <div class="game-content">
                <div class="canvas-container">
                    <canvas id="gameCanvas"></canvas>
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background: #00ff00;"></div>
                            <span>BaÅŸlangÄ±Ã§</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #ff0000;"></div>
                            <span>BitiÅŸ</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #ffff00;"></div>
                            <span>Sen</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #8b0000;"></div>
                            <span>DÃ¼ÅŸman</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #ffd700;"></div>
                            <span>Bonus</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #ff8800;"></div>
                            <span>Tuzak</span>
                        </div>
                    </div>
                </div>

                <div class="controls-panel">
                    <div class="control-group">
                        <h3>ğŸ® Hareket</h3>
                        <div class="direction-pad">
                            <div class="dir-btn empty"></div>
                            <button class="dir-btn" onclick="movePlayer(0, -1)">â–²</button>
                            <div class="dir-btn empty"></div>
                            <button class="dir-btn" onclick="movePlayer(-1, 0)">â—€</button>
                            <div class="dir-btn empty"></div>
                            <button class="dir-btn" onclick="movePlayer(1, 0)">â–¶</button>
                            <div class="dir-btn empty"></div>
                            <button class="dir-btn" onclick="movePlayer(0, 1)">â–¼</button>
                            <div class="dir-btn empty"></div>
                        </div>
                    </div>

                    <div class="control-group">
                        <h3>ğŸ”§ AraÃ§lar</h3>
                        <button class="control-btn" onclick="cozumBFS()">ğŸ”µ BFS Ã‡Ã¶zÃ¼mÃ¼</button>
                        <button class="control-btn" onclick="cozumDFS()">ğŸŸ£ DFS Ã‡Ã¶zÃ¼mÃ¼</button>
                        <button class="control-btn" onclick="haritaOlustur(); startGame()">ğŸ”„ Yeni Harita</button>
                        <button class="control-btn" onclick="saveCurrentMap()">ğŸ’¾ HaritayÄ± Kaydet</button>
                    </div>

                    <div class="control-group">
                        <button class="control-btn" style="background: #ff6b6b; color: white; border-color: #ff6b6b;" onclick="backToMenu()">â—€ Ana MenÃ¼</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ZORLUK SEÃ‡Ä°MÄ° MODAL -->
    <div class="modal" id="difficultyModal">
        <div class="modal-content">
            <h2>Zorluk Seviyesi SeÃ§in</h2>
            <div class="difficulty-options">
                <div class="difficulty-card easy" onclick="selectDifficulty(0)">
                    <h4>ğŸ˜Š Kolay</h4>
                    <p>Az dÃ¼ÅŸman<br>Ã‡ok enerji<br>GeniÅŸ gÃ¶rÃ¼ÅŸ</p>
                </div>
                <div class="difficulty-card medium selected" onclick="selectDifficulty(1)">
                    <h4>ğŸ˜ Orta</h4>
                    <p>Orta dÃ¼ÅŸman<br>Normal enerji<br>Normal gÃ¶rÃ¼ÅŸ</p>
                </div>
                <div class="difficulty-card hard" onclick="selectDifficulty(2)">
                    <h4>ğŸ˜ˆ Zor</h4>
                    <p>Ã‡ok dÃ¼ÅŸman<br>Az enerji<br>Dar gÃ¶rÃ¼ÅŸ</p>
                </div>
            </div>
            <button class="btn btn-primary" onclick="startGameWithDifficulty()">Oyuna BaÅŸla</button>
            <button class="btn btn-secondary" onclick="closeModal('difficultyModal')">Ä°ptal</button>
        </div>
    </div>

    <!-- SKOR TABLOSU MODAL -->
    <div class="modal" id="scoreModal">
        <div class="modal-content">
            <h2>ğŸ† En YÃ¼ksek Skorlar</h2>
            <div class="score-table" id="scoreTable">
                <p style="text-align: center; color: #999;">HenÃ¼z skor yok. Oynamaya baÅŸlayÄ±n!</p>
            </div>
            <button class="btn btn-primary" onclick="closeModal('scoreModal')">Kapat</button>
        </div>
    </div>

    <!-- HARÄ°TALARIM MODAL -->
    <div class="modal" id="mapsModal">
        <div class="modal-content" style="max-width: 700px;">
            <h2>ğŸ—ºï¸ KayÄ±tlÄ± HaritalarÄ±m</h2>
            <div class="maps-list" id="mapsList">
                <p style="text-align: center; color: #999;">HenÃ¼z kayÄ±tlÄ± harita yok.</p>
            </div>
            <button class="btn btn-primary" onclick="closeModal('mapsModal')">Kapat</button>
        </div>
    </div>

    <!-- HARÄ°TA GÃ–RÃœNTÃœLEME MODAL -->
    <div class="modal" id="mapViewModal">
        <div class="modal-content" style="max-width: 800px;">
            <h2 id="mapViewTitle">ğŸ—ºï¸ Harita GÃ¶rÃ¼nÃ¼mÃ¼</h2>
            <canvas id="mapViewCanvas" style="border: 3px solid #e0e0e0; border-radius: 10px; max-width: 100%;"></canvas>
            <div style="margin-top: 20px;">
                <button class="btn btn-primary" onclick="playSelectedMap()">ğŸ® Bu Haritada Oyna</button>
                <button class="btn btn-secondary" onclick="closeModal('mapViewModal')">Kapat</button>
            </div>
        </div>
    </div>

    <!-- YARIÅMA MODAL -->
    <div class="modal" id="tournamentModal">
        <div class="modal-content" style="max-width: 600px;">
            <h2>ğŸ YarÄ±ÅŸma Modu</h2>
            
            <!-- Oyuncu SayÄ±sÄ± SeÃ§imi -->
            <div id="tournamentSetup">
                <p style="margin: 20px 0;">KaÃ§ oyuncu yarÄ±ÅŸacak?</p>
                <input type="number" id="playerCount" min="2" max="10" value="2" 
                       style="padding: 10px; font-size: 16px; border-radius: 10px; border: 2px solid #e0e0e0; width: 100px; text-align: center;">
                <button class="btn btn-primary" style="margin-top: 20px;" onclick="setupTournamentPlayers()">Devam Et</button>
            </div>
            
            <!-- Oyuncu Ä°sim GiriÅŸi -->
            <div id="tournamentPlayers" style="display: none;">
                <p style="margin: 20px 0;">Oyuncu Ä°simlerini Girin:</p>
                <div id="playerNamesInput"></div>
                <button class="btn btn-primary" style="margin-top: 20px;" onclick="startTournament()">YarÄ±ÅŸmayÄ± BaÅŸlat</button>
            </div>
            
            <!-- YarÄ±ÅŸma Ä°lerleyiÅŸi -->
            <div id="tournamentProgress" style="display: none;">
                <div id="tournamentInfo" style="margin: 20px 0; font-size: 18px;"></div>
                <div id="tournamentScores" style="margin: 20px 0;"></div>
            </div>
            
            <button class="btn btn-secondary" onclick="closeModal('tournamentModal'); resetTournament()">Kapat</button>
        </div>
    </div>

    <!-- BÄ°LGÄ° MODAL -->
    <div class="modal" id="infoModal">
        <div class="modal-content">
            <h2>â„¹ï¸ NasÄ±l OynanÄ±r?</h2>
            <div style="text-align: left; margin: 20px 0;">
                <p style="margin: 10px 0;"><strong>ğŸ¯ AmaÃ§:</strong> YeÅŸil baÅŸlangÄ±Ã§tan kÄ±rmÄ±zÄ± bitiÅŸe ulaÅŸÄ±n!</p>
                <p style="margin: 10px 0;"><strong>ğŸ® Kontroller:</strong> YÃ¶n tuÅŸlarÄ±nÄ± kullanarak hareket edin.</p>
                <p style="margin: 10px 0;"><strong>âš¡ Enerji:</strong> Her adÄ±mda enerji harcanÄ±r. Biterse oyun biter!</p>
                <p style="margin: 10px 0;"><strong>ğŸ Bonus:</strong> AltÄ±n kareler enerji ve puan verir.</p>
                <p style="margin: 10px 0;"><strong>âš ï¸ Tuzak:</strong> Turuncu kareler enerji dÃ¼ÅŸÃ¼rÃ¼r!</p>
                <p style="margin: 10px 0;"><strong>ğŸ‘¾ DÃ¼ÅŸman:</strong> KÄ±rmÄ±zÄ± toplardan kaÃ§Ä±n!</p>
                <p style="margin: 10px 0;"><strong>ğŸ”µ BFS/ğŸŸ£ DFS:</strong> Algoritma Ã§Ã¶zÃ¼mlerini gÃ¶rebilirsiniz.</p>
                <p style="margin: 10px 0;"><strong>ğŸ’¾ Harita Kaydet:</strong> BeÄŸendiÄŸiniz haritalarÄ± kaydedin!</p>
                <p style="margin: 10px 0;"><strong>ğŸ YarÄ±ÅŸma:</strong> ArkadaÅŸlarÄ±nÄ±zla yarÄ±ÅŸÄ±n, her oyuncu 3 tur oynar!</p>
            </div>
            <button class="btn btn-primary" onclick="closeModal('infoModal')">AnladÄ±m!</button>
        </div>
    </div>

    <!-- OYUN SONU MODAL -->
    <div class="modal" id="gameEndModal">
        <div class="modal-content">
            <h2 id="endTitle">ğŸ‰ KAZANDIN!</h2>
            <p id="endMessage"></p>
            <div id="endStats" style="margin: 20px 0;"></div>
            
            <!-- YarÄ±ÅŸma Modunda GÃ¶sterilecek Butonlar -->
            <div id="tournamentButtons" style="display: none;">
                <button class="btn btn-primary" onclick="continueToNextRound()">Sonraki Tur</button>
            </div>
            
            <!-- Normal Modda GÃ¶sterilecek Butonlar -->
            <div id="normalButtons">
                <button class="btn btn-primary" onclick="closeModal('gameEndModal'); backToMenu()">Ana MenÃ¼</button>
                <button class="btn btn-secondary" onclick="closeModal('gameEndModal'); haritaOlustur(); startGame()">Yeni Oyun</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>